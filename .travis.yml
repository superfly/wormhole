language: go
go:
- 1.8.x
- 1.x
install: make setup
sudo: required
services:
- docker
script:
- GOOS=linux   GOARCH=amd64 make binaries
- GOOS=windows GOARCH=amd64 make binaries
- GOOS=darwin  GOARCH=amd64 make binaries
- GOOS=linux   GOARCH=arm   make binaries
- GOOS=linux   GOARCH=386   make binaries
- make ci
- make crossbuild
env:
  global:
  - secure: hQ9wa4Wx5eWfG4q8yySldLFrHMGfXnMz2JBB8YyHIxkXraDpr+ltqrraVSN2LaTdSAQcDxDKnCwnqRDZ34PX64UDZe8941qwPTFSjFmdz0VcOwStInPxioaLBJg14xcAUl55vLpx5Qkc3XcyRaKBSRJdi+cUqSjQL6MzlrR8ERIOJQzJ4l2VJ+e5X7D917dPEV5K4Z3Rha3ILTLCIQY6fygPnjRD8hNJjwMlW30vavUYs+fg9adK3M+o4vm0IXWqy7aqpaAWhfkJXH+tVM7dzXuql6l/dgFkN2uIB2WK4XJZbHrLirt8ceoL3SYLolMdm6ldG5exYROhuhh6jMlJ+Gx05/088URNxTMEmZpAdJHVYX4BvHIvkNb6x/TCYW+/+mbtGVtg27obsnXXrZERT8Jxe6V6NMhAUQYFjqcvOu8ATp4h2xwmBHhx3sMP8t9Y1owuqrPciSujzeG+XoDguxHwjun41YJJZx030kARV53EsM2wFoePVV1h9YXXCglUAyaVkQMBLeui3O11zFunpz4limPIXTNK9zDeW+krPaJWx3qi8Yn3DwUV1aozDfMHPCKg4nhwLfGPwQNwuzZPjvTAoVmW+YY5b9ZrLRFn7ndKlFFQp8nk3ssWxX5bPJrWd9UZQ1eu+gAV4u1DLpGLvGo1eqM1RWdXWl6jSpLRiHY=
  - secure: JNvUxdy6ahSgZAPMhRjxvbg40E5sU33N+nOt/TnalTGGiI8UiDb7lzcBS8FA6jugsir9FhnfR95qbtiL9/QyVWDUIjzoZJEVhbJnAIqO31fGI11zm7oSoeli8dor0JNQtB32wsVTn3GPSDY6E2SEcUDxhf0vAAbuQbJlxHx9VaiyKd3ERg2Nor3g/pRlbdIl8yCNVBFh9W2c8trmxj7DlRQpwGLLomOVCIXlVliHTBDl/CtkGOHXKqsALxXClz9oeGAq/EbZ7J9oQETrNuSR98TyFVWj2hqzFHl/qUerebBHj0iGMk0O15NsUNYZrkYCcUV04e+8C4DkJHac/jC+257AsXkOz6dSryJRonNjFwzoO24HCivkuJv7BWMe2ycunWfbNcWbEeHp71MLB6cfc0Qfy0OEvVng2aKLnqUkKPWwB7ZHgEW6uw3WJmWU9j1+tP/F0w2MmuT+bywZo5WDKWikuASVdRgH56THp11580v1r7KoU5tIWQiah4N66NZYk8FusQB8mq4rVhrIK+I0/KDaZbS6eQh25S/grnx1ItkfTt8TmvwBUOA+BpajSTvKTV9pcCyd2CxetUtZBK7gyHb4xYSK1UMt0nB/fDcwLiGO1eFy5CyhTMuIqV2l8lkyZZ8ObZhTo9SSPdqeMq1M2+4/HXp4zKMoiRnqZ7d1Am4=
  - secure: fIJzUZMoxzW+hQ0u6dwXSthqMnVzujG223C7oco9nW2Li/tSzqggLse/Ak9punFoZSO/QBNoDo7Igw2b0pM/9q22neHuye6FTGrOE3hWxvxl9PlAfdPU2+KSpq3E4aB7Bdg92m9Rxlx9BNNDeTYWf/w3t0lDzEw/0LrA5YSc3grUSnNnKBJrxjI13L9gY4FJwzz5MaCJz3rEVJmcr0wAb55B38wX6rc9oHCOmFZDJ8GbTVOOaY9CRX3yZo2Ttm7E9n2HiDRjicXgp/1ksbdbJGm5Dl05KsuKHLEbOilJV1So8u9/bu8QHZ9sos3jbXj1wZXVf4OH/pD8uDvj8XpIKtVPkmQeWvrVsCKvr+IRx+W2xYa5IuqXSQuBLt0tJGnU6ZicVwDIMr2CPgIbDcPccuLvTaIcMGNaVHv1hkizWKujCT8RqzslPoVzzNHutXExzLD056DJ+/qauoI7hG+LHwPaY5LUjmMXCXmyWsl3aeM8ybUnyDFFxC8L0H7D9Vjg58pJqNReveWApqftzm4rTwF3R6nICtEsa6cAgUOQMcklcci6793TH9cZf/juNd/2ddvtBedn7jxv6v1F2HIv7uGhPfOVoqJ1KdAV2TOqg679nONOi/Zo8KoLxdIc2g1kHIl/UiI0S0hu4LMpycWQAHRzm5IMgOUvYY9z1de9+N0=
  - secure: Ay1OyIlClGit2AV9PbkX5lZazc7omMnIQxSY31l4C6ic/8R3smmLT/db48wBG9NT1mTouf/fj5JWftulMbyuCVm9gLFwAqYE0bynQN6Z00R01P3lkzSjeUZ9sCDe8EbmSHoz4JkDLkK0QT069ss612rijziXgwzrsbVSLkSxc22dQl3FARPnAC1abIvQjfgiqzGNv2yVzkzeTkfVCCDXmgnr4720bs86cQ3Qd3FtCwFc+gD/UsPtCFwG/3VEJxuTMCto3eH2MPqi/nOWTxYAr6UD/AynedTtjme0q8j0M7biI+3hnqtXCsmuF0VvzBbofjDRjECchXp+B+Vm+n6bHBIftbCbh00CIerR4ocQHLK9qTDzvLVwgIR4j94o8kK+7wAXNuWEifG7jyOLUeTa6PTf6ZK4QhPT33YPAXSk3EtBpZRJwq5+qlaSDTYjkQJsc2mLrJOSaKMOr6wiLNQGWlGcQ5xVRU4ehoiHV5dCSAYlEaamV3RKHMmzS0UnVL5PfCr++yggeBZ76r5TZDODPxFIGtIRG3kxDs8uZb8pJGcVfy63H6zYK/rbg6M1ydWZu6uKlMrqEmIZvkTQoa4v16q3P0j//yFMhvtmvMPoTY9D2uV/484FKi434iBsahCt+qDBnYRnRqQy8+f09/J8NyhK3oEJbap8URcGVPcBdCo=
  - secure: IwEPbWvA73h2JuPVclx5axt5MbHOj46I5MejDTL3Tpec5TVp3hIRW3+dEOhgr3IQWYrTWjX9zGDX5NDK3JASl99dqV+8PH/TzWJbyP04bvUNwJp2q2S+MGKdSuoWsqukmK7i3OK7bjZKevTmCS8SU+fSyT7D5UY5nwQrB4CUYkk4kjjRLBDb7Rkro0dwkSyEU4Ouj9dHYZI86u+OyVubwGev0uehFqDVMF4z/NHwgFEsBekUvk33YmtJSso9Yar5esTBi3y87gBXXDJbGHX/p8HGkauJh8QJo0jhlLFqZlUdIrFgnUmfGvJfKpJxt/oqDMHbaPvxmRJBu0zQ6bQR4IxsCpQIggeMZpbyRpgy8b3YzelkYmRnpNBePJl/KvpA0GEKWrcEDLcDiDK3uWTRt5zAHtM2EQdY37PvcL8ERpE9DB9rxz/duWKxnfcHxZr2+N5CnpRYhgITrRI9VYw+8f86ouGH0mvvUbfuf1xgPAf1Jk143gQVxf1Mrnenw4+QO8ImwaF1VnzzxrdiXLs/65oHtVM2iMfuaFHkAl04p3Dm7CG6Yvhzn1A/BhBS8OPH7pHj89AIQb7OQP8G+28YfBTra1YAIVIqAfvY/ccXGwOB0O1I7JRxcqOceH4Vhj8yIQsLcJXHOxJU7x5/BFPPq1fBxxsMalRwl7KtP3aVpgA=
notifications:
  slack:
    rooms:
      secure: Kmf7jfavVAYKTq4Dc/gD/xbZwNLkPU17bO7IFuJ9QLgM6aKqrZpx9LgjdAWsto72e6r8QWu3Du1qLsWW1Ts5uBZB8Aq9fwlh9K230dldozU87Bm5mZlY7INcfRWUTvyPLxGjlola6pGdCjLjNF5QxvNyK3mAsNS6Q45YgeDf/7X1ZDG9107HpM5Z7KvGBAfI1LfliSLI7c2VQXO4Z/9/SVWkxMVU4tqsqMTz5RqCxsJ/Qey0aPp2CttikXcxrayna7S4LMd1hYJCWHlge368QedeCdLhJiXs+h2eULtd6VDsbH/oFzpQyFUHmHmvKv9oRhYheyOsPkyK1ZF8kkiG5JfZ/xofgS2fGrEo1FZHqO76JjO1S3kc0lieZGwhh9kLqXHBCjh4mjSrz/ix4HT/oqlvllSKJyn90zxJmWdIZMMn06rtuFY/YxEsK01rJejUasqVDEXilBr/AE3bgKEU0ThOkLSOfG0H3b3yoUXucfrMrSvaAk3rG3Mx7WXjtYyug6o9Fs8sqq1feEW5CBDUlhnRuIcIw5XerZM9DMvBhkQ1DKgVMdk5uC81q33vzvmWOidGGiyZ7R5Z99pvAdPiBfWBr06dsm5zZqpJCujjPjDWZ8aBXErlZNyatffYRXVi98Q+dSrULqKKI69qxUfKuG8OdqYy+A7dAxsf/lHu06E=
    on_success: always
    on_failure: always
